<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>我要寄件</title>
<link rel="stylesheet" href="styles/jquery-weui.min.css">
<link rel="stylesheet" href="styles/main.css">
<link rel="stylesheet" href="styles/center.css">
<script src="scripts/jquery.min.js"></script>
<script src="scripts/global.js"></script>
<script src="scripts/jquery-weui.min.js"></script>
<script src="scripts/city-picker.min.js"></script>
<script src="scripts/layer.js"></script>
</head>
<body class="bg-gray">
    <div class="page-send direction-column">
    	<div class="wrap">
    		<section class="company ">
	    		<div class="input-grid">
	    			<div class="title">快递公司：</div>
					<select name="" id="">
						<option value="">顺丰快递</option>
						<option value="">百世快递</option>
						<option value="">中通快递</option>
						<option value="">韵达快递</option>
						<option value="">申通快递</option>
					</select>
					<div class="arrow">></div>
	    		</div>
	    	</section>
	    	<section class="grid-sendDetail">
	    		<div class="item">
					<img src="images/icon-source.png" alt="" class="icon">
					<div class="info">
						<p class="name">刘翔宇&nbsp;18612344321</p>
						<div class="p-wrap">
							<p class="address ellipsis">湖南&nbsp;长沙市&nbsp;雨花区圭塘街道万家丽中路啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊</p>
						</div>
						
					</div>
					<span class="arrow">></span>
	    		</div>
	    		<div class="item target">
					<img src="images/icon-target.png" alt="" class="icon">
					<div class="info hide"></div>
					<p class="nopeople">请填写收件人联系方式与地址</p>
					<div class="arrow">></div>
	    		</div>
	    	</section>
	    	<section class="goods">
	    		<div class="input-grid">
	    			<div class="title">物品类型：</div>
					<select name="" id="">
						<option value="">文件</option>
						<option value="">服装</option>
						<option value="">化妆品</option>
					</select>
					<div class="arrow">></div>
	    		</div>
	    		<div class="input-grid">
	    			<div class="title">重量/Kg：</div>
					<select name="" id="">
						<option value="">1KG</option>
						<option value="">1.5KG</option>
						<option value="">2KG</option>
						<option value="">2.5KG</option>
						<option value="">3KG</option>
						<option value="">3.5KG</option>
						<option value="">4KG</option>
						<option value="">4.5KG</option>
					</select>
					<div class="arrow">></div>
	    		</div>
	    		<div class="input-grid">
	    			<div class="title">寄件方式：</div>
					<input type="text" value="快递上门取件" readonly />
					<div class="arrow">></div>
	    		</div>
	    	</section>
	    	<section class="baojia">
				<div class="input-grid">
	    			<div class="title">保价服务：</div>
					<select name="" id="">
						<option value="">不保价</option>
						<option value="">保价</option>
					</select>
					<div class="arrow">></div>
	    		</div>   	
	    		<div class="backup">
	    			<textarea name="" id="" placeholder="给小哥留言"></textarea>
	    		</div>	
	    	</section>
	    	<div class="tip">
	    		<span>温馨提示：</span>现在下单，预计明天上午08：00取件，寄件费用快递员将根据快件实际情况报价。
	    	</div>
    	</div>
    	 <footer class="send">
    	 	<div class="tc radio">
    	 		<label for="agree"><input type="radio" id="agree">提交订单意味着我同意</label><a href="javascript:;">《快递服务协议》</a>
    	 	</div>
			<div>
				<a href="javascript:;" class="btn btn-bk confirm">提交订单</a>
			</div>
		</footer>
    </div>
    <div class="dialog dialog-send hide">
    	<div class="dialog-ctx">
    		<div class="cont p10">
    			<h3>收件人</h3>
    			<div>
    				<div class="input-grid">
		    			<div class="title ">收件人：</div>
						<input type="text" placeholder="请输入姓名" class="dialog-name">
		    		</div>
		    		<div class="input-grid">
		    			<div class="title">联系电话：</div>
		    			<input type="text" placeholder="请输入手机号码" class="dialog-tel">
		    		</div>
		    		<div class="input-grid">
		    			<div class="title ">选择地区：</div>
						<input type="text" id="city" readonly placeholder="请选择省市区">
						<div class="arrow">></div>
		    		</div>
		    		<div class="input-grid address">
		    			<div class="title">详细地址：</div>
						<textarea name="" id="" placeholder="请输入详细地址" class="dialog-address"></textarea>
		    		</div>
    			</div>
	    		<div>
	    			<a href="javascript:;" class="btn btn-bk save">保存</a>
	    		</div>
    		</div>
    	</div>
    </div>
<script>
$(function(){
	$("#city").cityPicker({
        title: "选择省市区/县",
        onChange: function (picker, values, displayValues) {
            // console.log(values, displayValues);
        }
    });
	//提交订单
	$(".confirm").click(function(){
		var checked = $("#agree")[0].checked;
		if(!checked){
			layer.open({
			    content: '请先同意快递服务协议',
			    skin: 'msg',
			    time: 1 //1秒后自动关闭
			});

			return;
		}
	})

	$(".save").click(function(){
		var name = $(".dialog-name").val();
		var tel = $(".dialog-tel").val();
		var city = $("#city").val();
		var address = $(".dialog-address").val();

		if(!name){
			layer.open({
			    content: '姓名不能为空',
			    skin: 'msg',
			    time: 1 //1秒后自动关闭
			});
			return;
		}

		if(!/^[0-9]{11}$/.test(tel)){
			layer.open({
			    content: '手机号码格式不正确',
			    skin: 'msg',
			    time: 1 //1秒后自动关闭
			});
			return;
		}
		if(!city){
			layer.open({
			    content: '请选择省市区',
			    skin: 'msg',
			    time: 1 //1秒后自动关闭
			});
			return;
		}

		if(!address){
			layer.open({
			    content: '请输入详细地址',
			    skin: 'msg',
			    time: 1 //1秒后自动关闭
			});
			return;
		}

		var html = '<p class="name">'+ name + '&nbsp;' + city +'</p>' +
					'<div class="p-wrap">' + 
						'<p class="address ellipsis">'+ city + '&nbsp;' + address +'</p>' +
					'</div>';

		$(".target .info").html(html);
		$(".target .info").removeClass("hide");
		$(".target .nopeople").addClass("hide");
		$(".dialog-send").addClass("hide");

		//清空弹出框
		$(".dialog-name").val("");
		$(".dialog-tel").val("");
		$("#city").val("");
		$(".dialog-address").val("");
	})

	//打开弹框
	$(".target").click(function(){
		$(".dialog-send").removeClass("hide");
	})
})
	
</script>
</body>
</html>
