<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>提示可输入剩余字数</title>
<link rel="stylesheet" type="text/css" href="../../styles/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="../../styles/styles.css">
</head>
<body>
<div class="demo">
    <form class="form-horizontal user-input" id="form" role="form">
        <div class="form-group">
            <div class="col-sm-10">
                <textarea class="from-control" name="" id="msg" maxlength="140" placeholder="备注" cols="47" rows="10"></textarea>
                <div class="pt10">
                    <p>还可以输入<i class="red">140</i>个字</p>
                </div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-10">
                <button id="btn" type="button" class="btn btn-primary btn-block">提 交</button>
            </div>
        </div>
    </form>
</div>
<script>
    (function(){
        var form        = document.getElementById('form');
        var textarea    = form.getElementsByTagName('textarea')[0];
        var out         = form.getElementsByTagName('i')[0];
        textarea.oninput = textarea.onpropertychange = function(){
            change(this);
        }
        var m = out.innerText;
        function change(o){
            var l = o.value.length;
            if(l < m){
                out.innerHTML = m - l;
            } else {
                textarea.value = textarea.value.substr(0, 140);
            }
        }
    }());
</script>
</body>
</html>